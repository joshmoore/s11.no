<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ with .Title }}{{ . }}{{ else }}{{ .Site.Title }}{{end}}</title>

    <meta name="robots" content="noodp"/>
    
    {{ if .IsPage }}
      <meta name="description" content="{{ .Description }}">
    {{ else if .IsHome }}
      <meta name="description" content="{{ .Site.Params.siteDescription }} by {{ .Site.Params.authorName }}">
    {{ else if .IsNode }}
      <meta name="description" content="{{ .Title }}">
    {{ end }}

    <link rel="canonical" href="{{ .Permalink }}"/>
  
    {{ template "_internal/opengraph.html" . }}
    {{ template "_internal/twitter_cards.html" . }}
    {{ template "_internal/schema.html" . }}

    {{ with .OutputFormats.Get "rss" -}}
        {{ printf `<link rel="%s" type="%s+%s" href="%s" title="%s" />` .Rel .MediaType.Type .MediaType.Suffix .Permalink $.Site.Title | safeHTML }}
    {{ end -}}

    <!-- Styles -->
    {{- $normalize_css := resources.Get "css/normalize.css" }}
    {{- $fonts_css := resources.Get "css/fonts.css" }}
   
    {{- $inServerMode   := .Site.IsServer }}
    {{- $cssTarget      := "css/style.css" }}
    {{- $cssOptions     := cond ($inServerMode) (dict "targetPath" $cssTarget "enableSourceMap" true) (dict "targetPath" $cssTarget "outputStyle" "nested") }}
    {{- $style          := resources.Get "scss/style-in-use.scss" | toCSS $cssOptions }}

    {{- $css := slice $normalize_css $fonts_css $style | resources.Concat "css/bundle.css" }}
    <link rel="stylesheet" href="{{ $css.Permalink }}">
    
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=IBM+Plex+Mono:ital,wght@0,200;0,500;1,200&family=IBM+Plex+Serif:ital,wght@0,400;0,600;1,300&family=Oswald:wght@600&display=swap" rel="stylesheet">     
</head>
